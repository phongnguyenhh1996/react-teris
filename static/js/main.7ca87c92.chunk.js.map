{"version":3,"sources":["components/MainBoard/mainBoard.styled.js","components/MainBoard/index.js","shapes/allShapes.js","constants/index.js","shapes/index.js","themes/themesData.js","themes/themesType.js","themes/index.js","components/ElementsStyled/index.js","functions/index.js","components/Switch/index.js","components/SwitchLight/index.js","components/TouchControl/index.js","App.js","serviceWorker.js","index.js"],"names":["shakeAnimation","keyframes","fadeOutAnimation","MainBoard","styled","div","props","cellSize","columns","rows","theme","backgroundMainBoard","isShake","MainBoard__cell","attrs","style","top","position","left","right","bottom","color","isShadow","isDestroying","mainBoardWrapper","useRef","smallDeviceSize","window","innerWidth","current","clientWidth","calculateCellSize","gameSettings","customGameSettings","ref","onAnimationEnd","setShake","cellsPosition","map","cellPosition","key","id","shadowShapePosition","shapes","0","matrix","center","1","2","3","fallSpeed","controlSpeed","fps","delayTime","colorArr","generateShape","shapeName","direction","x0","y0","customColor","isRotate","Math","round","random","length","shape","shapeCurrentDirection","shapeCurrentDirectionCenterPosition","lastDirectionIndex","Object","keys","shapeLastDirection","shapeLastDirectionCenterPosition","xPlus","yPlus","data","i","row","j","cell","push","isFalling","userControl","uniqueId","themeData","backgroundWrapper","title","mainHeading","textColor","themeTypeName","themeType","createTheme","name","themeChoosen","themesData","forEach","MainWrapper","MainHeading","h1","FixedTop","Text","span","createRandomShape","shapesName","allShapes","randomShape","currentShape","currentDirection","seperatorCell","newCellPosition","cloneDeep","cellPositionWithoutShape","filter","cellPositionWithShape","handleCollusion","allRestCell","isBottomCollusionCell","element","checkBottomCollisionShape","isBottomCollusionGround","isBottomCollusion","isLeftCollusionCell","checkLeftCollisionShape","isLeftCollusionGround","isLeftCollusion","isRightCollusionCell","checkRightCollisionShape","isRightCollusionGround","isRightCollusion","isOverlapsed","getShapeInfo","xMin","yMin","xMax","yMax","createShadowShape","shapeOnControl","shapeInfo","allCellSameColumns","allCellSameColumnsInfo","newShape","newTestShape","handleFallingCell","cells","destroyRows","keyBy","o","reverse","newDataWithoutFallingCell","rowCells","stepFalling","index","newRowCells","scoreRows","newCellPositionWithoutShape","parseInt","includes","shapeCollusion","control","setShadowShapePosition","isPrepareOnGround","controlSpeedStep","gameState","down","isCaculatePoint","newCellPositionWithShape","newRandomShape","shadowShape","rotate","newDirection","checkAndCreateShapeWithDir","setCellPosition","delayStep","fallStep","SwitchLabel","label","Slider","value","Input","input","Switch","type","disabled","readOnly","SwitchLight","className","TouchControl","handleKeyDown","handleKeyUp","handleTouchStart","keyCode","handleTouchEnd","Button","outline","onTouchEnd","onTouchStart","functions","initShape","App","useState","useEffect","cellFallHandle","setInterval","cellPositionSeperateObj","clearInterval","e","addEventListener","htmlElement","document","querySelector","touchStart","classList","remove","add","removeEventListener","localStorage","getItem","themeTypeChoosen","setThemeType","isLightOn","onChange","typeNameToChange","setItem","isReadOnly","Container","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.7ca87c92.chunk.js","sourcesContent":["import styled, { keyframes } from \"styled-components\";\r\n\r\nconst shakeAnimation = keyframes`\r\n  0% {\r\n    transform: translate(0);\r\n  }\r\n  20% {\r\n    transform: translate(-2px, 2px);\r\n  }\r\n  40% {\r\n    transform: translate(-2px, -2px);\r\n  }\r\n  60% {\r\n    transform: translate(2px, 2px);\r\n  }\r\n  80% {\r\n    transform: translate(2px, -2px);\r\n  }\r\n  100% {\r\n    transform: translate(0);\r\n  }\r\n`\r\n\r\nconst fadeOutAnimation = keyframes`\r\n  0% {\r\n    transform: scale(1);\r\n    filter: blur(0px);\r\n    opacity: 1;\r\n  }\r\n  100% {\r\n    transform: scale(2);\r\n    filter: blur(4px);\r\n    opacity: 0;\r\n  }\r\n`\r\n\r\nconst MainBoard = styled.div`\r\n  width: ${(props) => props.cellSize*props.columns}px;\r\n  height: ${(props) => props.cellSize*props.rows}px;\r\n  position: relative;\r\n  background-color: ${props => props.theme.backgroundMainBoard};\r\n  margin: auto;\r\n  animation: ${props => props.isShake && shakeAnimation} 0.3s linear;\r\n  overflow: hidden;\r\n`\r\n\r\nconst MainBoard__cell = styled.div.attrs(props => ({\r\n  style: {\r\n    top: props.position.top && props.position.top*props.cellSize + 'px',\r\n    left: props.position.left && props.position.left*props.cellSize + 'px',\r\n    right: props.position.right && props.position.right*props.cellSize + 'px',\r\n    bottom: props.position.bottom && props.position.bottom*props.cellSize + 'px'\r\n  }\r\n}))`\r\n  width: ${props => props.cellSize}px;\r\n  height: ${props => props.cellSize}px;\r\n  position: absolute;\r\n  background: ${(props) => props.position.color};\r\n  transition: left .3s ease, top .15s ease;\r\n  opacity: ${props => props.isShadow ? 0.2 : 1};\r\n  animation: ${props => props.position.isDestroying && fadeOutAnimation} 0.45s cubic-bezier(0.165, 0.840, 0.440, 1.000) both;\r\n`\r\n\r\nexport default {\r\n  MainBoard,\r\n  MainBoard__cell\r\n}","import Styled from \"./mainBoard.styled\";\r\nimport React, { useRef } from 'react'\r\n\r\nconst MainBoard = (props) => {\r\n\r\n  const mainBoardWrapper = useRef(null)\r\n  const smallDeviceSize = window.innerWidth <= 991 && mainBoardWrapper.current ? mainBoardWrapper.current.clientWidth : false\r\n  const calculateCellSize = smallDeviceSize ? (smallDeviceSize - 30) / props.gameSettings.columns : props.gameSettings.cellSize\r\n  const customGameSettings = {...props.gameSettings, cellSize: calculateCellSize}\r\n\r\n  return (\r\n    <div ref={mainBoardWrapper}>\r\n      <Styled.MainBoard {...customGameSettings} isShake={props.isShake} onAnimationEnd={() => props.setShake(false)}>\r\n        {props.cellsPosition.map((cellPosition) => (\r\n          <Styled.MainBoard__cell key={cellPosition.id} {...customGameSettings} position={cellPosition} />\r\n        ))}\r\n        {props.shadowShapePosition.map((cellPosition) => (\r\n          <Styled.MainBoard__cell key={`shadow-${cellPosition.id}`} {...customGameSettings} position={cellPosition} isShadow />\r\n        ))}\r\n      </Styled.MainBoard>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainBoard\r\n","const shapes = {\r\n  // t shape\r\n  't': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1, 1],\r\n        [0, 1, 0]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [0, 1],\r\n        [1, 1],\r\n        [0, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    2: {\r\n      matrix: [\r\n        [0, 1, 0],\r\n        [1, 1, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    3: {\r\n      matrix: [\r\n        [1, 0],\r\n        [1, 1],\r\n        [1, 0]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  },\r\n  // L shape\r\n  'l': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1, 1],\r\n        [0, 0, 1]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [0, 1],\r\n        [0, 1],\r\n        [1, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    2: {\r\n      matrix: [\r\n        [1, 0, 0],\r\n        [1, 1, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    3: {\r\n      matrix: [\r\n        [1, 1],\r\n        [1, 0],\r\n        [1, 0]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  },\r\n  // i shape\r\n  'i': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1, 1, 1]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [1],\r\n        [1],\r\n        [1],\r\n        [1]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  },\r\n  // o shape\r\n  'o': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1],\r\n        [1, 1]\r\n      ],\r\n      center: [0, 0]\r\n    }\r\n  },\r\n  // j shape\r\n  'j': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1, 1],\r\n        [1, 0, 0]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [1, 1],\r\n        [0, 1],\r\n        [0, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    2: {\r\n      matrix: [\r\n        [0, 0, 1],\r\n        [1, 1, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    3: {\r\n      matrix: [\r\n        [1, 0],\r\n        [1, 0],\r\n        [1, 1]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  },\r\n  // z shape\r\n  'z': {\r\n    0: {\r\n      matrix: [\r\n        [1, 1, 0],\r\n        [0, 1, 1]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [0, 1],\r\n        [1, 1],\r\n        [1, 0]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    2: {\r\n      matrix: [\r\n        [1, 1, 0],\r\n        [0, 1, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    3: {\r\n      matrix: [\r\n        [0, 1],\r\n        [1, 1],\r\n        [1, 0]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  },\r\n  // s left shape\r\n  's': {\r\n    0: {\r\n      matrix: [\r\n        [0, 1, 1],\r\n        [1, 1, 0]\r\n      ],\r\n      center: [0, 1]\r\n    },\r\n    1: {\r\n      matrix: [\r\n        [1, 0],\r\n        [1, 1],\r\n        [0, 1]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    2: {\r\n      matrix: [\r\n        [0, 1, 1],\r\n        [1, 1, 0]\r\n      ],\r\n      center: [1, 1]\r\n    },\r\n    3: {\r\n      matrix: [\r\n        [1, 0],\r\n        [1, 1],\r\n        [0, 1]\r\n      ],\r\n      center: [1, 0]\r\n    }\r\n  }\r\n}\r\n\r\nexport default shapes","const gameSettings = {\r\n  cellSize: 25,\r\n  columns: 16,\r\n  rows: 24,\r\n  fallSpeed: 500,\r\n  controlSpeed: 60,\r\n  fps: 60,\r\n  delayTime: 50\r\n}\r\n\r\nexport {\r\n  gameSettings\r\n}","import uniqueId from \"lodash/uniqueId\";\r\nimport shapes from \"./allShapes\";\r\nimport { gameSettings } from \"../constants\";\r\n\r\nconst colorArr = [\"#A848E3\", \"#E4E250\", \"#F6A8DE\", \"#ABE124\", \"#D04D41\", \"#F20B35\", \"#2ED8DB\", \"#1708EF\", \"#F6847E\", \"#FCB01E\", \"#39FBBD\", \"#6FFA14\"]\r\n\r\nconst generateShape = (shapeName, direction, x0 = gameSettings.columns/2-1, y0 = 0, customColor, isRotate = false) => {\r\n  const color = colorArr[Math.round(Math.random() * (colorArr.length - 1))]\r\n  const shape = shapes[shapeName]\r\n  const shapeCurrentDirection = shape[direction]\r\n  const shapeCurrentDirectionCenterPosition = shapeCurrentDirection.center\r\n  const lastDirectionIndex = (direction - 1) >= 0 ? (direction - 1) : Object.keys(shape).length - 1\r\n  \r\n  const shapeLastDirection = shape[lastDirectionIndex]\r\n  const shapeLastDirectionCenterPosition = shapeLastDirection.center\r\n  let xPlus = 0, yPlus = 0\r\n  if (isRotate) {\r\n    xPlus = shapeLastDirectionCenterPosition[0] - shapeCurrentDirectionCenterPosition[0]\r\n    yPlus = shapeLastDirectionCenterPosition[1] - shapeCurrentDirectionCenterPosition[1]\r\n  }\r\n  const { matrix } = shapeCurrentDirection\r\n  const data = []\r\n  for (let i = 0; i < matrix.length; i++) {\r\n    const row = matrix[i];\r\n    for (let j = 0; j < row.length; j++) {\r\n      const cell = row[j];\r\n      if (cell === 1) {\r\n        data.push({\r\n          top: y0 + i + xPlus,\r\n          left: x0 + j + yPlus,\r\n          isFalling: true,\r\n          userControl: true,\r\n          direction,\r\n          color: customColor || color,\r\n          id: uniqueId(uniqueId('shape-') + '-')\r\n        })\r\n      }\r\n    }\r\n  }\r\n  return data\r\n}\r\n\r\nexport default generateShape","const themeData = {\r\n  backgroundWrapper: ['#fff', '#222831'],\r\n  backgroundMainBoard: ['#eeeeee', '#393e46'],\r\n  title: ['#00adb5', '#00adb5'],\r\n  mainHeading: ['#00adb5', '#00adb5'],\r\n  textColor: ['#222831', '#eeeeee']\r\n}\r\n\r\nexport default themeData","export const themeTypeName = {\r\n  LIGHT: 'light',\r\n  DARK: 'dark'\r\n}\r\nexport const themeType = {\r\n  [themeTypeName.LIGHT]: 0,\r\n  [themeTypeName.DARK]: 1\r\n}\r\n\r\n\r\nexport default themeType","import themesData from \"./themesData\";\r\nimport { themeType } from \"./themesType\";\r\n\r\nconst createTheme = name => {\r\n  const theme = {}\r\n  const themeChoosen = themeType[name]\r\n  Object.keys(themesData).forEach(key => {\r\n    theme[key] = themesData[key][themeChoosen]\r\n  })\r\n  return theme\r\n}\r\n\r\nexport default createTheme","import styled from \"styled-components\";\r\n\r\nconst MainWrapper = styled.div`\r\n  background-color: ${props => props.theme.backgroundWrapper};\r\n  min-height: 100vh;\r\n  font-family: 'Righteous', cursive;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  &.no-hover-active {\r\n    button:hover, button:active, button:focus {\r\n      color: inherit !important;\r\n      background-color: inherit !important;\r\n      outline: inherit !important;\r\n      box-shadow: inherit !important;\r\n    }\r\n  }\r\n`\r\n\r\nconst MainHeading = styled.h1`\r\n  color: ${props => props.theme.mainHeading};\r\n  @media screen and (max-width: 991px){\r\n    font-size: 22px;\r\n  }\r\n`\r\n\r\nconst FixedTop = styled.div`\r\n  position: fixed;\r\n  top: 10px;\r\n  right: 10px;\r\n`\r\n\r\nconst Text = styled.span`\r\n  color: ${props => props.theme.textColor};\r\n`\r\n\r\nexport {\r\n  MainWrapper,\r\n  MainHeading,\r\n  FixedTop,\r\n  Text\r\n}","import allShapes from \"../shapes/allShapes\";\r\nimport random from \"lodash/random\";\r\nimport cloneDeep from \"lodash/cloneDeep\";\r\nimport keyBy from \"lodash/keyBy\";\r\nimport { gameSettings } from '../constants'\r\nimport generateShape from \"../shapes\";\r\n\r\nconst createRandomShape = () => {\r\n  const shapesName = Object.keys(allShapes)\r\n  const randomShape = shapesName[random(shapesName.length - 1)]\r\n  \r\n  return {\r\n    currentShape: randomShape,\r\n    currentDirection: random(Object.keys(allShapes[randomShape]).length - 1)\r\n  }\r\n}\r\n\r\nconst seperatorCell = data => {\r\n  const newCellPosition = cloneDeep(data)\r\n  const cellPositionWithoutShape = newCellPosition.filter(cell => !cell.userControl && !cell.isFalling)\r\n  const cellPositionWithShape = newCellPosition.filter(cell => cell.userControl && cell.isFalling)\r\n\r\n  return {\r\n    cellPositionWithShape,\r\n    cellPositionWithoutShape,\r\n  }\r\n}\r\n\r\nconst handleCollusion = (shape, allRestCell) => {\r\n  const checkBottomCollisionShape = (currentShape, cell) => currentShape.filter(element => element.top + 1 === cell.top && element.left === cell.left).length > 0\r\n  const checkLeftCollisionShape = (currentShape, cell) => currentShape.filter(element => element.top === cell.top && element.left - 1 === cell.left).length > 0\r\n  const checkRightCollisionShape = (currentShape, cell) => currentShape.filter(element => element.top === cell.top && element.left + 1 === cell.left).length > 0\r\n\r\n  const isBottomCollusionCell = allRestCell.filter(cell => checkBottomCollisionShape(shape, cell)).length > 0\r\n  const isBottomCollusionGround = shape.filter(element => element.top + 1 === gameSettings.rows).length > 0\r\n  const isBottomCollusion = isBottomCollusionCell || isBottomCollusionGround\r\n\r\n  const isLeftCollusionCell = allRestCell.filter(cell => checkLeftCollisionShape(shape, cell)).length > 0\r\n  const isLeftCollusionGround = shape.filter(element => element.left - 1 < 0).length > 0\r\n  const isLeftCollusion = isLeftCollusionCell || isLeftCollusionGround\r\n\r\n  const isRightCollusionCell = allRestCell.filter(cell => checkRightCollisionShape(shape, cell)).length > 0\r\n  const isRightCollusionGround = shape.filter(element => element.left + 1 >= gameSettings.columns).length > 0\r\n  const isRightCollusion = isRightCollusionCell || isRightCollusionGround\r\n\r\n  const isOverlapsed = shape.filter(element =>\r\n    element.left < 0 ||\r\n    element.left >= gameSettings.columns ||\r\n    element.top >= gameSettings.rows ||\r\n    allRestCell.filter(cell => cell.left === element.left && cell.top === element.top).length > 0\r\n  ).length > 0\r\n\r\n  return {\r\n    isBottomCollusion,\r\n    isLeftCollusion,\r\n    isRightCollusion,\r\n    isOverlapsed\r\n  }\r\n}\r\n\r\nconst getShapeInfo = (shape) => {\r\n  if (shape.length === 0) {\r\n    return {}\r\n  }\r\n  let xMin = shape[0].left\r\n  let yMin = shape[0].top\r\n  let xMax = shape[0].left\r\n  let yMax = shape[0].top\r\n  shape.forEach(cell => {\r\n    if (cell.left < xMin) xMin = cell.left;\r\n    if (cell.top < yMin) yMin = cell.top;\r\n    if (cell.left > xMax) xMax = cell.left;\r\n    if (cell.top > yMax) yMax = cell.top\r\n  })\r\n  return { xMin, yMin, xMax, yMax, color: shape[0].color }\r\n}\r\n\r\nconst createShadowShape = (shape, allRestCell, shapeOnControl) => {\r\n  const shapeInfo = getShapeInfo(shape)\r\n  const allCellSameColumns = allRestCell.filter(cell => cell.left >= shapeInfo.xMin && cell.left <= shapeInfo.xMax)\r\n  const allCellSameColumnsInfo = getShapeInfo(allCellSameColumns)\r\n  if (!allCellSameColumnsInfo.yMin || !allCellSameColumnsInfo.yMax) {\r\n    return generateShape(shapeOnControl.currentShape, shapeOnControl.currentDirection, shapeInfo.xMin, gameSettings.rows - 1 - (shapeInfo.yMax - shapeInfo.yMin), shapeInfo.color)\r\n  }\r\n  let newShape = []\r\n  \r\n  for (let i = allCellSameColumnsInfo.yMin - (shapeInfo.yMax - shapeInfo.yMin + 1); i < allCellSameColumnsInfo.yMin + (shapeInfo.yMax - shapeInfo.yMin); i++) {\r\n    const newTestShape = generateShape(shapeOnControl.currentShape, shapeOnControl.currentDirection, shapeInfo.xMin, i, shapeInfo.color)\r\n    \r\n    const { isBottomCollusion } = handleCollusion(newTestShape, allCellSameColumns)\r\n    \r\n    if (isBottomCollusion) {\r\n      newShape = newTestShape\r\n      break\r\n    }\r\n    \r\n  }\r\n  return newShape\r\n}\r\n\r\nconst handleFallingCell = (cells) => {\r\n  const destroyRows = Object.keys(keyBy(cells.filter(cell => cell.isDestroying), o => o.top)).reverse()\r\n  cells = cells.filter(cell => !cell.isDestroying)\r\n  const newDataWithoutFallingCell = []\r\n  \r\n  for (let i = gameSettings.rows - 1; i > 0; i--) {\r\n    const rowCells = cells.filter(cell => cell.top === i)\r\n    if (rowCells.length === 0) {\r\n      continue\r\n    }\r\n    const stepFalling = destroyRows.filter(index => i < index).length\r\n    const newRowCells = rowCells.map(cell => ({...cell, top: cell.top + stepFalling}))\r\n    newDataWithoutFallingCell.push(...newRowCells)\r\n  }\r\n  return newDataWithoutFallingCell\r\n}\r\n\r\nconst calculatePointAndCellsPosition = (cellPosition, shape = []) => {\r\n  const rows = {}\r\n  const scoreRows = []\r\n  const { cellPositionWithShape, cellPositionWithoutShape } = seperatorCell([...cellPosition, ...shape])\r\n  let newCellPositionWithoutShape = [...cellPositionWithoutShape]\r\n  newCellPositionWithoutShape.forEach(cell => {\r\n    if (!rows[cell.top]) {\r\n      rows[cell.top] = 1\r\n    } else {\r\n      rows[cell.top] += 1\r\n    }\r\n  })\r\n  Object.keys(rows).forEach(row => {\r\n    if (rows[row] === gameSettings.columns) {\r\n      scoreRows.push(parseInt(row))\r\n    }\r\n  })\r\n  if (scoreRows.length > 0) {\r\n    newCellPositionWithoutShape = newCellPositionWithoutShape.map(cell => ({...cell, isDestroying: scoreRows.includes(cell.top)}))\r\n  } else {\r\n    return [...cellPositionWithoutShape, ...cellPositionWithShape]\r\n  }\r\n  return [...newCellPositionWithoutShape, ...cellPositionWithShape]\r\n}\r\n\r\nconst handleControlLeftRight = (shapeCollusion, shapeOnControl, control, cellPosition, setShadowShapePosition) => {\r\n  if (!shapeCollusion.isBottomCollusion || (shapeCollusion.isBottomCollusion && !shapeOnControl.isPrepareOnGround)) {\r\n    if (!shapeCollusion.isLeftCollusion && control.left && control.controlSpeedStep >= gameSettings.controlSpeed) {\r\n      cellPosition.cellPositionWithShape = cellPosition.cellPositionWithShape.map(cell => ({...cell, left: cell.left - 1}))\r\n      const shadowShape = createShadowShape(cellPosition.cellPositionWithShape, cellPosition.cellPositionWithoutShape, shapeOnControl)\r\n      setShadowShapePosition(shadowShape)\r\n      control.controlSpeedStep = 0\r\n    }\r\n    if (!shapeCollusion.isRightCollusion && control.right && control.controlSpeedStep >= gameSettings.controlSpeed) {\r\n      cellPosition.cellPositionWithShape = cellPosition.cellPositionWithShape.map(cell => ({...cell, left: cell.left + 1}))\r\n      const shadowShape = createShadowShape(cellPosition.cellPositionWithShape, cellPosition.cellPositionWithoutShape, shapeOnControl)\r\n      setShadowShapePosition(shadowShape)\r\n      control.controlSpeedStep = 0\r\n    }\r\n  }\r\n}\r\n\r\nconst handleControlDown = (cellPosition, shadowShapePosition, control, gameState, shapeOnControl, setShadowShapePosition, setShake) => {\r\n  if (control.down) {\r\n    gameState.isCaculatePoint = true\r\n    const newCellPositionWithShape = shadowShapePosition.map((cell, index) => ({...cell, isFalling: false, userControl: false, id: cellPosition.cellPositionWithShape[index].id}))\r\n    cellPosition.cellPositionWithShape = newCellPositionWithShape\r\n    const newRandomShape = createRandomShape()\r\n    shapeOnControl.currentShape = newRandomShape.currentShape\r\n    shapeOnControl.currentDirection = newRandomShape.currentDirection\r\n    const newShape = generateShape(shapeOnControl.currentShape, shapeOnControl.currentDirection)\r\n    const shadowShape = createShadowShape(newShape, [...cellPosition.cellPositionWithoutShape, ...cellPosition.cellPositionWithShape], shapeOnControl)\r\n    cellPosition.cellPositionWithShape.push(...newShape)\r\n    setShadowShapePosition(shadowShape)\r\n    setShake(true)\r\n    control.down = false\r\n  }\r\n}\r\n\r\nconst handleControlRotate = (cellPosition ,control, shapeOnControl, setShadowShapePosition) => {\r\n  if (control.rotate && control.controlSpeedStep >= gameSettings.controlSpeed) {\r\n    control.controlSpeedStep = 0\r\n    const newDirection = (shapeOnControl.currentDirection + 1) % (Object.keys(allShapes[shapeOnControl.currentShape]).length)\r\n    \r\n    const checkAndCreateShapeWithDir = (newCellPosition) => {\r\n      const { cellPositionWithShape, cellPositionWithoutShape } = seperatorCell(newCellPosition)\r\n      const {\r\n        isOverlapsed\r\n      } = handleCollusion(cellPositionWithShape, cellPositionWithoutShape)\r\n      if (!isOverlapsed) {\r\n        return cellPositionWithShape\r\n      } \r\n      return null\r\n    }\r\n    const {xMin, yMin, color} = getShapeInfo(cellPosition.cellPositionWithShape)\r\n    \r\n    const newCellPositionWithShape = checkAndCreateShapeWithDir([...cellPosition.cellPositionWithoutShape, ...generateShape(shapeOnControl.currentShape, newDirection, xMin, yMin, color, true)])\r\n    \r\n    if (newCellPositionWithShape !== null) {\r\n      shapeOnControl.currentDirection = newDirection\r\n      cellPosition.cellPositionWithShape = newCellPositionWithShape\r\n      const shadowShape = createShadowShape(cellPosition.cellPositionWithShape, cellPosition.cellPositionWithoutShape, shapeOnControl)\r\n      setShadowShapePosition(shadowShape)\r\n    }\r\n  }\r\n}\r\n\r\nconst handleDestroyCell = (cellPosition, gameState, shapeOnControl, setShadowShapePosition, setCellPosition) => {\r\n  const destroyingCells = cellPosition.cellPositionWithoutShape.filter(cell => cell.isDestroying)\r\n  const isHaveDestroyingCells = destroyingCells.length > 0\r\n  if (isHaveDestroyingCells) {\r\n    if (gameState.delayStep >= gameSettings.delayTime) {\r\n      cellPosition.cellPositionWithoutShape = handleFallingCell(cellPosition.cellPositionWithoutShape)\r\n      const shadowShape = createShadowShape(cellPosition.cellPositionWithShape, cellPosition.cellPositionWithoutShape, shapeOnControl)\r\n      setShadowShapePosition(shadowShape)\r\n      let newCellPosition = [...cellPosition.cellPositionWithoutShape, ...cellPosition.cellPositionWithShape]\r\n      gameState.delayStep = 0\r\n      return setCellPosition(newCellPosition)\r\n    } else {\r\n      gameState.delayStep += gameSettings.fps\r\n    }\r\n  }\r\n}\r\n\r\nconst handleFallingShape = (cellPosition ,gameState, shapeCollusion, shapeOnControl, setShadowShapePosition) => {\r\n  gameState.fallStep += gameSettings.fps\r\n  if (gameState.fallStep >= gameSettings.fallSpeed) {\r\n    gameState.fallStep = 0\r\n\r\n    if (shapeCollusion.isBottomCollusion) {\r\n      if (!shapeOnControl.isPrepareOnGround) {\r\n        shapeOnControl.isPrepareOnGround = true\r\n      } else {\r\n        gameState.isCaculatePoint = true\r\n        cellPosition.cellPositionWithShape = cellPosition.cellPositionWithShape.map(cell => ({...cell,  isFalling: false, userControl: false}))\r\n        const newRandomShape = createRandomShape()\r\n        shapeOnControl.currentShape = newRandomShape.currentShape\r\n        shapeOnControl.currentDirection = newRandomShape.currentDirection\r\n        const newShape = generateShape(shapeOnControl.currentShape, shapeOnControl.currentDirection)\r\n        const shadowShape = createShadowShape(newShape, [...cellPosition.cellPositionWithoutShape, ...cellPosition.cellPositionWithShape], shapeOnControl)\r\n        cellPosition.cellPositionWithShape.push(...newShape)\r\n        setShadowShapePosition(shadowShape)\r\n        shapeOnControl.isPrepareOnGround = false\r\n      }\r\n    } else {\r\n      cellPosition.cellPositionWithShape = cellPosition.cellPositionWithShape.map(cell => ({...cell, isFalling: true, top: cell.top + 1}))\r\n      shapeOnControl.isPrepareOnGround = false\r\n    }\r\n  }\r\n}\r\n\r\nexport default {\r\n  createRandomShape,\r\n  seperatorCell,\r\n  handleCollusion,\r\n  getShapeInfo,\r\n  createShadowShape,\r\n  handleFallingCell,\r\n  calculatePointAndCellsPosition,\r\n  handleControlLeftRight,\r\n  handleControlDown,\r\n  handleControlRotate,\r\n  handleDestroyCell,\r\n  handleFallingShape\r\n}","\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SwitchLabel = styled.label`\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 40px;\r\n  height: 24px;\r\n  margin: 0;\r\n`;\r\n\r\nconst Slider = styled.div`\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: ${props => props.value ? '#1E81AE' : '#ccc'};\r\n  -webkit-transition: .4s;\r\n  transition: .4s;\r\n  border-radius: 34px;\r\n\r\n  &:before{\r\n    position: absolute;\r\n    content: \"\";\r\n    height: 18px;\r\n    width: 18px;\r\n    left: 3px;\r\n    bottom: 3px;\r\n    background-color: white;\r\n    transition: .4s;\r\n    border-radius: 50%;\r\n  }\r\n`;\r\n\r\nconst Input = styled.input`\r\n  display: none;\r\n\r\n  &:focus + ${Slider}{\r\n    box-shadow: 0 0 1px #2196F3;\r\n  }\r\n\r\n  &:checked + ${Slider}:before {\r\n    transform: translateX(16px);\r\n  }\r\n`;\r\n\r\nconst Switch = (props) => {\r\n  return (\r\n    <SwitchLabel>\r\n      <Input {...props} type=\"checkbox\" disabled={props.readOnly} />\r\n      <Slider value={props.value} />\r\n    </SwitchLabel>\r\n  );\r\n}\r\n\r\nexport default Switch;","import React from 'react'\r\nimport { FixedTop, Text } from '../ElementsStyled'\r\nimport Switch from '../Switch'\r\n\r\nexport const SwitchLight = (props) => {\r\n  return (\r\n    <FixedTop>\r\n      <div className=\"d-flex align-items-center\">\r\n        <Text className=\"mr-2\">Light:</Text>\r\n        <Switch {...props}/>\r\n      </div>\r\n    </FixedTop>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Button } from 'reactstrap'\r\nimport { AiFillCaretLeft, AiFillCaretRight, AiFillCaretDown, AiOutlineRedo } from 'react-icons/ai'\r\n\r\nexport const TouchControl = ({handleKeyDown, handleKeyUp}) => {\r\n\r\n  const handleTouchStart = (keyCode) => () => handleKeyDown({ keyCode })\r\n  const handleTouchEnd = (keyCode) => () => handleKeyUp({ keyCode })\r\n  \r\n  return (\r\n    <div className=\"d-flex justify-content-between mt-3 mx-3\">\r\n      <div>\r\n        <Button\r\n          className=\"mr-3 py-3 px-4\"\r\n          outline\r\n          color=\"info\"\r\n          type=\"button\"\r\n          onTouchEnd={handleTouchEnd(37)}\r\n          onTouchStart={handleTouchStart(37)}\r\n        >\r\n          <AiFillCaretLeft />\r\n        </Button>\r\n        <Button\r\n          className=\"py-3 px-4\"\r\n          outline\r\n          color=\"info\"\r\n          type=\"button\"\r\n          onTouchEnd={handleTouchEnd(39)}\r\n          onTouchStart={handleTouchStart(39)}\r\n        >\r\n          <AiFillCaretRight />\r\n        </Button>\r\n      </div>\r\n      <div>\r\n        <Button\r\n          className=\"mr-3 py-3 px-4\"\r\n          outline\r\n          color=\"info\"\r\n          type=\"button\"\r\n          onTouchEnd={handleTouchEnd(40)}\r\n          onTouchStart={handleTouchStart(40)}\r\n        >\r\n          <AiFillCaretDown />\r\n        </Button>\r\n        <Button\r\n          className=\"py-3 px-4\"\r\n          outline\r\n          color=\"info\"\r\n          type=\"button\"\r\n          onTouchEnd={handleTouchEnd(38)}\r\n          onTouchStart={handleTouchStart(38)}\r\n        >\r\n          <AiOutlineRedo />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport MainBoard from \"./components/MainBoard\";\r\nimport './App.css';\r\nimport generateShape from './shapes';\r\nimport { Container } from 'reactstrap';\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport createTheme from './themes';\r\nimport { themeTypeName } from './themes/themesType';\r\nimport { MainWrapper, MainHeading } from './components/ElementsStyled';\r\nimport functions from \"./functions\";\r\nimport { gameSettings } from './constants'\r\nimport { SwitchLight } from './components/SwitchLight';\r\nimport { TouchControl } from './components/TouchControl';\r\n\r\nconst gameState = {\r\n  fallStep: 0,\r\n  isCaculatePoint: false,\r\n  delayStep: 0\r\n}\r\nconst shapeOnControl = {\r\n  isPrepareOnGround: false,\r\n  ...functions.createRandomShape()\r\n}\r\nconst initShape = generateShape(shapeOnControl.currentShape, shapeOnControl.currentDirection)\r\nconst control = {\r\n  left: false,\r\n  right: false,\r\n  rotate: false,\r\n  down: false,\r\n  controlSpeedStep: gameSettings.controlSpeed\r\n}\r\n\r\n\r\n\r\nfunction App() {\r\n  const [cellPosition, setCellPosition] = useState(initShape)\r\n  const [isShake, setShake] = useState(false)\r\n  const [shadowShapePosition, setShadowShapePosition] = useState(functions.createShadowShape(initShape, [], shapeOnControl))\r\n\r\n  useEffect(() => {\r\n    const cellFallHandle = setInterval(() => {\r\n      const cellPositionSeperateObj = functions.seperatorCell(cellPosition)\r\n\r\n      functions.handleDestroyCell(cellPositionSeperateObj, gameState, shapeOnControl, setShadowShapePosition, setCellPosition)\r\n      \r\n      const shapeCollusion = functions.handleCollusion(cellPositionSeperateObj.cellPositionWithShape, cellPositionSeperateObj.cellPositionWithoutShape)\r\n      functions.handleControlLeftRight(shapeCollusion, shapeOnControl, control, cellPositionSeperateObj, setShadowShapePosition)\r\n      \r\n      functions.handleFallingShape(cellPositionSeperateObj, gameState, shapeCollusion, shapeOnControl, setShadowShapePosition)\r\n\r\n      functions.handleControlDown(cellPositionSeperateObj, shadowShapePosition, control, gameState, shapeOnControl, setShadowShapePosition, setShake)\r\n      \r\n      functions.handleControlRotate(cellPositionSeperateObj, control, shapeOnControl, setShadowShapePosition)\r\n      \r\n      let newCellPosition = [...cellPositionSeperateObj.cellPositionWithoutShape, ...cellPositionSeperateObj.cellPositionWithShape]\r\n      if (gameState.isCaculatePoint) {\r\n        newCellPosition = functions.calculatePointAndCellsPosition(newCellPosition)\r\n        gameState.isCaculatePoint = false\r\n      }\r\n      setCellPosition(newCellPosition)\r\n    }, gameSettings.fps);\r\n    return () => {\r\n      clearInterval(cellFallHandle)\r\n    };\r\n  }, [cellPosition, shadowShapePosition])\r\n\r\n  const handleKeyDown = (e) => {\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        control.left = true\r\n        control.controlSpeedStep += gameSettings.fps\r\n        break;\r\n      case 39:\r\n        control.right = true\r\n        control.controlSpeedStep += gameSettings.fps\r\n        break;\r\n      case 38:\r\n        control.rotate = true\r\n        control.controlSpeedStep += gameSettings.fps\r\n        break;\r\n      case 40:\r\n        control.down = true\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  const handleKeyUp = (e) => {\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        control.left = false\r\n        control.controlSpeedStep = gameSettings.controlSpeed\r\n        break;\r\n      case 39:\r\n        control.right = false\r\n        control.controlSpeedStep = gameSettings.controlSpeed\r\n        break;\r\n      case 38:\r\n        control.rotate = false\r\n        control.controlSpeedStep += gameSettings.controlSpeed\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown)\r\n    window.addEventListener('keyup', handleKeyUp)\r\n    \r\n    const htmlElement = document.querySelector('.hover-active');\r\n    function touchStart () {\r\n      htmlElement.classList.remove('hover-active');\r\n      htmlElement.classList.add('no-hover-active');\r\n      htmlElement.removeEventListener('touchstart', touchStart);\r\n    }\r\n\r\n    htmlElement.addEventListener('touchstart', touchStart);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown)\r\n      window.removeEventListener('keyup', handleKeyUp)\r\n      htmlElement.removeEventListener('touchstart', touchStart);\r\n    }\r\n  }, [])\r\n\r\n  const [themeTypeChoosen, setThemeType] = useState(localStorage.getItem('theme') || themeTypeName.LIGHT)\r\n\r\n  const chooseTheme = () => {\r\n    const typeNameToChange = themeTypeChoosen !== themeTypeName.LIGHT ? themeTypeName.LIGHT : themeTypeName.DARK\r\n    localStorage.setItem('theme', typeNameToChange)\r\n    setThemeType(typeNameToChange)\r\n  }\r\n\r\n  const isLightOn = themeTypeChoosen === themeTypeName.LIGHT\r\n  \r\n  return (\r\n    <ThemeProvider theme={createTheme(themeTypeChoosen)}>\r\n      <MainWrapper className=\"hover-active\">\r\n        <SwitchLight value={isLightOn} onChange={chooseTheme} isReadOnly/>\r\n        <Container className=\"App\">\r\n          <MainHeading className=\"text-center\">TERIS RACE</MainHeading>\r\n          <MainBoard gameSettings={gameSettings} cellsPosition={cellPosition} shadowShapePosition={shadowShapePosition} isShake={isShake} setShake={setShake} />\r\n          <TouchControl handleKeyUp={handleKeyUp} handleKeyDown={handleKeyDown}/>\r\n        </Container>\r\n      </MainWrapper>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'typeface-righteous';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}